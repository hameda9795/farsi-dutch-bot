# โ ุชฺฉูู Deploy ูพุฑูฺู ุจุงุช ูุงุฑุณ-ูููุฏ ุฑู ุณุฑูุฑ Hetzner

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู:

### 1. ุขูพููุฏ ูุงูโูุง
- โ ุชูุงู ูุงูโูุง ูพุฑูฺู ุฑู ุณุฑูุฑ ุขูพููุฏ ุดุฏ
- โ Directory `/home/farsi-dutch-bot` ุณุงุฎุชู ุดุฏ
- โ ูุงูโูุง main: `server.js`, `bot.js`, `package.json`, `ecosystem.config.js`
- โ Directory ูุง: `services/`, `utils/`, `lib/`, `data/`, `db/`
- โ ูุงู environment: `.env.example`

### 2. ูุตุจ Dependencies
- โ Node.js v20.19.2 ุฑู ุณุฑูุฑ ููุฌูุฏ ุงุณุช
- โ PM2 ูุตุจ ุดุฏ
- โ Dependencies ูพุฑูฺู ูุตุจ ุดุฏ (`npm install`)
- โ Directory `logs/` ุณุงุฎุชู ุดุฏ

### 3. ุชูุธูุงุช PM2
- โ ูุงู `ecosystem.config.js` ุขูุงุฏู ุดุฏู
- โ ุชูุธูุงุช restart ุฎูุฏฺฉุงุฑุ loggingุ ู memory management

## ๐ง ูุฑุงุญู ููุง (ุจุงุฏ ุฎูุฏุชุงู ุงูุฌุงู ุฏูุฏ):

### ูุฏู 1: ุงุชุตุงู ุจู ุณุฑูุฑ
```bash
ssh root@91.99.49.208
```

### ูุฏู 2: ุฑูุชู ุจู directory ูพุฑูฺู
```bash
cd /home/farsi-dutch-bot
```

### ูุฏู 3: ูุฑุงุด ูุงู environment
```bash
nano .env
```

ุฏุฑ ุงู ูุงู ุจุงุฏ ููุงุฏุฑ ูุงูุน ุฑุง ูุงุฑุฏ ฺฉูุฏ:
```
TELEGRAM_BOT_TOKEN=your_actual_telegram_bot_token
CLAUDE_API_KEY=your_actual_claude_api_key
```

### ูุฏู 4: ุดุฑูุน ุจุงุช
```bash
# ุงุณุชูุงุฏู ุงุฒ script ุขูุงุฏู
./start-bot.sh

# ุง ุฏุณุช:
pm2 start ecosystem.config.js
```

### ูุฏู 5: ุชูุธู startup ุฎูุฏฺฉุงุฑ
```bash
pm2 save
pm2 startup
# ุฏุณุชูุฑ ฺฉู PM2 ููุงุด ูโุฏูุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ
```

## ๐ ุฏุณุชูุฑุงุช ููุฏ PM2:

```bash
pm2 status                 # ูุถุนุช ุจุงุช
pm2 logs farsi-dutch-bot   # ูุดุงูุฏู logs
pm2 restart farsi-dutch-bot # restart ุจุงุช  
pm2 stop farsi-dutch-bot   # ุชููู ุจุงุช
pm2 delete farsi-dutch-bot # ุญุฐู ุงุฒ PM2
pm2 monit                  # monitoring ุฏุฑ real-time
pm2 show farsi-dutch-bot   # ุฌุฒุฆุงุช ฺฉุงูู
```

## ๐ ูฺฉุงุช ุงููุช:

1. **ูุงู .env ุฑุง ูุญุงูุธุช ฺฉูุฏ:**
```bash
chmod 600 .env
```

2. **Firewall ุชูุธู ฺฉูุฏ:**
```bash
ufw allow 22        # SSH
ufw enable
```

3. **ูุงูุชูุฑูฺฏ ููุธู:**
```bash
pm2 monit           # ุจุฑุง ูุดุงูุฏู CPU ู RAM
```

## ๐ ุฑูุน ูุดฺฉู:

ุงฺฏุฑ ุจุงุช ุดุฑูุน ูุดุฏ:
```bash
# ุจุฑุฑุณ logs
pm2 logs farsi-dutch-bot

# ุชุณุช manual
node server.js

# ุจุฑุฑุณ ูุงู .env
cat .env

# ุจุฑุฑุณ ูุถุนุช port
netstat -tlnp | grep 3000
```

## ๐ ูุงูุชูุฑูฺฏ:

### ูุถุนุช ูุนู:
- โ ุณุฑูุฑ: 91.99.49.208:22 (ุฏุฑ ุฏุณุชุฑุณ)
- โ Node.js: v20.19.2 (ูุตุจ ุดุฏู)
- โ PM2: (ูุตุจ ุดุฏู)
- โ ูพุฑูฺู: /home/farsi-dutch-bot (ุขูพููุฏ ุดุฏู)
- ๐ก ูุญุท: ูุงุฒ ุจู ุชูุธู .env
- ๐ก ุจุงุช: ุขูุงุฏู ุดุฑูุน

### ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ:
ุจุงุช ุดูุง 24/7 ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ ู PM2 ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู:
- ุฏุฑ ุตูุฑุช crash ุฎูุฏฺฉุงุฑ restart ุดูุฏ
- logs ุชูุงู ูุนุงูุชโูุง ุฐุฎุฑู ุดูุฏ
- ุจุนุฏ ุงุฒ restart ุณุฑูุฑุ ุจุงุช ุฎูุฏฺฉุงุฑ ุดุฑูุน ุดูุฏ

## ๐ ูพุดุชุจุงู:

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏุ ุงู ุงุทูุงุนุงุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
1. ูุถุนุช PM2: `pm2 status`
2. Logs ุจุงุช: `pm2 logs farsi-dutch-bot --lines 50`
3. ูุถุนุช ุณุฑูุฑ: `htop` ุง `free -h`
4. ุงุชุตุงู ุงูุชุฑูุช: `ping google.com`

---
**๐ ุจุงุช ุดูุง ุขูุงุฏู Deploy ุงุณุช! ููุท ุจุงุฏ ูุงู .env ุฑุง ูุฑุงุด ฺฉูุฏ ู ุจุงุช ุฑุง ุดุฑูุน ฺฉูุฏ.**
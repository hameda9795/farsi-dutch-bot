# โ ุฑุงูโุงูุฏุงุฒ ฺฉุงูู CI/CD ุจุฑุง ุจุงุช ูุงุฑุณ-ูููุฏ

## ูุถุนุช ูุนู:
- โ ุจุงุช ุฑู ุณุฑูุฑ Hetzner deploy ุดุฏู (91.99.49.208)
- โ PM2 ุจุฑุง ุงุฌุฑุง ุฏุงุฆู ูุตุจ ุดุฏู
- โ ุจุงุช ุฏุฑ ุชูฺฏุฑุงู ุชุณุช ุดุฏู ู ฺฉุงุฑ ูโฺฉูุฏ
- โ GitHub Actions workflow ุขูุงุฏู ุดุฏู

## ๐ ูุญูู ุงุณุชูุงุฏู ุงุฒ ุณุณุชู ุฎูุฏฺฉุงุฑ:

### ูุฑุญูู 1: ุชูุธู GitHub Secrets (ฺฉุจุงุฑ)

1. ุจุฑุฏ ุจู: https://github.com/hameda9795/farsi-dutch-bot/settings/secrets/actions
2. ุงู 3 secret ุฑุง ุงุถุงูู ฺฉูุฏ:

```
Name: HETZNER_HOST
Value: 91.99.49.208

Name: HETZNER_USER  
Value: root

Name: HETZNER_PASSWORD
Value: [your_server_password]
```

### ูุฑุญูู 2: ุชุณุช ุณุณุชู

```bash
# ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ script ุขูุงุฏู
push-and-deploy.bat

# ุฑูุด 2: ุฏุณุช
git add .
git commit -m "Test auto deploy"
git push origin master
```

### ูุฑุญูู 3: ูุดุงูุฏู ูุชุงุฌ

1. ุจุฑุฏ ุจู: https://github.com/hameda9795/farsi-dutch-bot/actions
2. ุขุฎุฑู workflow ุฑุง ุจุจูุฏ
3. ุงฺฏุฑ ุณุจุฒ ุดุฏ โ = deploy ูููู
4. ุงฺฏุฑ ูุฑูุฒ ุดุฏ โ = ุฎุทุง (ุฌุฒุฆุงุช ุฑุง ุจุจูุฏ)

## ๐ ฺู ฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ:

### ูุฑ ููุช `git push` ฺฉูุฏ:
1. ๐ GitHub Actions ุดุฑูุน ูโุดูุฏ
2. ๐ฆ Dependencies ูุตุจ ูโุดูุฏ
3. ๐งช ุชุณุชโูุง ุงุฌุฑุง ูโุดูุฏ (ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ)
4. ๐ค ูุงูโูุง ุฑู ุณุฑูุฑ ฺฉูพ ูโุดูุฏ
5. ๐ ุจุงุช ุจุง PM2 restart ูโุดูุฏ
6. โ ฺฏุฒุงุฑุด ููุง

### ูุงูโูุง ฺฉู ุขูพููุฏ ูโุดูุฏ:
- โ ููู ูุงูโูุง .js
- โ package.json
- โ ูููุฏุฑูุง services/, utils/, lib/, data/, db/
- โ ecosystem.config.js
- โ node_modules (ุฑู ุณุฑูุฑ ูุตุจ ูโุดูุฏ)
- โ .env (ูุญููุธ ูโูุงูุฏ)
- โ ูุงูโูุง .log

## ๐ ุงููุช:

- ูพุณูุฑุฏ ุณุฑูุฑ ุฏุฑ GitHub Secrets ูุญููุธ ุงุณุช
- ูุงู .env ุฑู ุณุฑูุฑ ุชุบุฑ ููโฺฉูุฏ
- Backup ุฎูุฏฺฉุงุฑ ูุจู ุงุฒ ูุฑ deploy

## ๐๏ธ ูุงูุชูุฑูฺฏ:

### ูุดุงูุฏู ูุถุนุช deploy:
- GitHub Actions: https://github.com/hameda9795/farsi-dutch-bot/actions

### ูุดุงูุฏู ูุถุนุช ุจุงุช ุฑู ุณุฑูุฑ:
```bash
ssh root@91.99.49.208
pm2 status
pm2 logs farsi-dutch-bot
```

## ๐ฏ ูุซุงู ุงุณุชูุงุฏู:

### ุณูุงุฑู: ูโุฎูุงูุฏ ูพุงู ุฎูุดุงูุฏฺฏู ุฑุง ุชุบุฑ ุฏูุฏ

1. ูุงู `bot.js` ุฑุง ูุฑุงุด ฺฉูุฏ
2. ุชุบุฑุงุช ุฑุง ุฐุฎุฑู ฺฉูุฏ
3. ุฏุณุชูุฑ ุจุฒูุฏ: `push-and-deploy.bat`
4. ูพุงู commit ูุงุฑุฏ ฺฉูุฏ: "Update welcome message"
5. 2-3 ุฏููู ุตุจุฑ ฺฉูุฏ
6. โ ุจุงุช ุฏุฑ ุชูฺฏุฑุงู ุจุง ูพุงู ุฌุฏุฏ ฺฉุงุฑ ูโฺฉูุฏ!

## ๐จ ุนุจโุงุจ:

### ุงฺฏุฑ deploy ูุงูููู ุจูุฏ:
1. ุจุฑุฏ ุจู GitHub Actions ู ุฎุทุง ุฑุง ุจุจูุฏ
2. ูุนูููุงู ูุดฺฉู ุงุฒ ุงุชุตุงู SSH ุง ูุดฺฉู ฺฉุฏ ุงุณุช
3. ูุดฺฉู ุฑุง ุญู ฺฉูุฏ ู ุฏูุจุงุฑู push ฺฉูุฏ

### ุงฺฏุฑ ุจุงุช ฺฉุงุฑ ููโฺฉูุฏ:
```bash
ssh root@91.99.49.208
cd /home/farsi-dutch-bot
pm2 logs farsi-dutch-bot --lines 50
```

---

## ๐ ุชุจุฑฺฉ! ุณุณุชู CI/CD ุดูุง ุขูุงุฏู ุงุณุช!

ุงุฒ ุงู ุจู ุจุนุฏุ ูุฑ ุชุบุฑ ฺฉู ุฏุฑ ฺฉุฏ ุจุฏูุฏ ู push ฺฉูุฏุ ุฎูุฏฺฉุงุฑ ุฑู ุณุฑูุฑ ุงุนูุงู ูโุดูุฏ ู ุจุงุช ุดูุง ููุดู ุจุง ุขุฎุฑู ูุณุฎู ฺฉุฏ ุงุฌุฑุง ูโุดูุฏ! ๐
# ๐ Dutch Grammar Correction Implementation

ูพุงุฏูโุณุงุฒ ุณุณุชู ุงุตูุงุญ ฺฏุฑุงูุฑ ูููุฏ ุจุง ูุญุฏูุฏุชโูุง ู validation

## ๐ฏ **ูุฏู:**
ุงุฌุงุฏ ุณุณุชู ุงุตูุงุญ ฺฏุฑุงูุฑ ฺฉู:
- **ููุท ูุชู ูููุฏ** ุฑุง ูโูพุฐุฑุฏ
- **ูุญุฏูุฏุช ุทูู** ุฏุงุฑุฏ (50 ฺฉููู ุง 300 ฺฉุงุฑุงฺฉุชุฑ)
- **ุชุญูู ุฏูู ฺฏุฑุงูุฑ** ุงูุฌุงู ูโุฏูุฏ
- **ุชูุถุญุงุช ูุงุฑุณ** ุงุฑุงุฆู ูโุฏูุฏ

## ๐ง **ุชุบุฑุงุช ุงูุฌุงู ุดุฏู:**

### โ **1. ุจูุจูุฏ `handleGrammarMode` ุฏุฑ bot.js**

**ูฺฺฏโูุง ุฌุฏุฏ:**
- **ุจุฑุฑุณ ุทูู ูุชู:**
  - ุญุฏุงฺฉุซุฑ 50 ฺฉููู
  - ุญุฏุงฺฉุซุฑ 300 ฺฉุงุฑุงฺฉุชุฑ
  - ูพุงู ุฎุทุง ูุงุฑุณ ุจุฑุง ูุชูู ุทููุงู

- **ุงุนุชุจุงุฑุณูุฌ ุฒุจุงู:**
  - ููุท ูุชูู ูููุฏ ูพุฐุฑูุชู ูโุดูุฏ
  - ูุชูู ูุงุฑุณ ุง ุณุงุฑ ุฒุจุงูโูุง ุฑุฏ ูโุดููุฏ
  - ูพุงู ุฑุงูููุง ุจู ูุงุฑุณ

- **ูุฏุฑุช ุฎุทุง:**
  - Graceful error handling
  - ูพุงูโูุง ุฎุทุง ฺฉุงุฑุจุฑูพุณูุฏ

### โ **2. ุงุฑุชูุง `correctGrammar` ุฏุฑ claudeService.js**

**Prompt ุฌุฏุฏ ุดุงูู:**
- ุชุฎุตุต ุฏุฑ ฺฏุฑุงูุฑ ูููุฏ
- ุชุญูู ุฏูู ุงููุงุน ุฎุทุงูุง
- ุณุงุฎุชุงุฑ JSON ูพุดุฑูุชู
- ุชูุถุญุงุช ุจู ุฒุจุงู ูููุฏ

**ุณุงุฎุชุงุฑ JSON ุฌุฏุฏ:**
```json
{
  "original": "ูุชู ุงุตู",
  "corrected": "ูุชู ุงุตูุงุญ ุดุฏู", 
  "hasErrors": true/false,
  "corrections": [
    {
      "type": "grammar/spelling/punctuation/word-order/verb-conjugation",
      "original": "ูุณูุช ุงุดุชุจุงู",
      "corrected": "ุงุตูุงุญ ุดุฏู",
      "explanation": "ุชูุถุญ ูููุฏ",
      "position": "ูููุนุช ุฏุฑ ูุชู"
    }
  ],
  "grammarAnalysis": {
    "sentenceType": "simple/compound/complex",
    "tense": "present/past/future...",
    "mood": "indicative/imperative...",
    "mainIssues": ["ูุณุช ูุดฺฉูุงุช ุงุตู"]
  },
  "suggestions": [
    "ูพุดููุงุฏ ุจูุชุฑ 1",
    "ูพุดููุงุฏ ุจูุชุฑ 2"
  ]
}
```

### โ **3. ุจุงุฒุทุฑุงุญ `formatGrammarResponse`**

**ูุฑูุช ูพุงู ุฌุฏุฏ:**
- **ูุฏุฑ ูุงุฑุณ:** "ุงุตูุงุญ ฺฏุฑุงูุฑ ูููุฏ ๐ณ๐ฑ"
- **ุชุฌุฒู ฺฏุฑุงูุฑ:** ููุน ุฌูููุ ุฒูุงูุ ูุดฺฉูุงุช
- **ุงุตูุงุญุงุช ุชูุตู:** ุจุง ุดูุงุฑูโฺฏุฐุงุฑ
- **ุชูุถุญุงุช ูุงุฑุณ:** ุจุฑุง ูุฑ ุงุตูุงุญ
- **ูพุดููุงุฏุงุช ุจูุชุฑ:** ุจุงูโูุง ุทุจุนโุชุฑ

## ๐ก๏ธ **ุงุนุชุจุงุฑุณูุฌ ู ูุญุฏูุฏุชโูุง:**

### **1. ุจุฑุฑุณ ุทูู ูุชู:**
```javascript
const wordCount = userInput.trim().split(/\s+/).length;
const charCount = userInput.length;

if (wordCount > 50) {
    return "โ๏ธ ูุญุฏูุฏุช ุทูู ูุชู - ุญุฏุงฺฉุซุฑ 50 ฺฉููู";
}

if (charCount > 300) {
    return "โ๏ธ ูุญุฏูุฏุช ุทูู ูุชู - ุญุฏุงฺฉุซุฑ 300 ฺฉุงุฑุงฺฉุชุฑ";
}
```

### **2. ุงุนุชุจุงุฑุณูุฌ ุฒุจุงู:**
```javascript
const detectedLanguage = await claudeService.detectLanguage(userInput);

if (detectedLanguage !== 'dutch') {
    return "โ๏ธ ููุท ูุชู ูููุฏ ูุงุจู ุงุตูุงุญ ุงุณุช";
}
```

### **3. ูุฏุฑุช ุฎุทุง:**
```javascript
try {
    const correction = await claudeService.correctGrammar(userInput, detectedLanguage);
    return formatGrammarResponse(correction, detectedLanguage);
} catch (error) {
    return "โ ุฎุทุง ุฏุฑ ุงุตูุงุญ ฺฏุฑุงูุฑ ุฑุฎ ุฏุงุฏ";
}
```

## ๐ **ุงููุงุน ุชุญูู ฺฏุฑุงูุฑ:**

### **1. ุงููุงุน ุฎุทุงูุง:**
- **Grammar:** ุณุงุฎุชุงุฑ ุฌูููุ ุชุฑุชุจ ฺฉููุงุช
- **Spelling:** ุงููุง ฺฉููุงุช
- **Punctuation:** ููุทูโฺฏุฐุงุฑ
- **Word-order:** ุชุฑุชุจ ฺฉููุงุช ูููุฏ
- **Verb-conjugation:** ุตุฑู ูุนู

### **2. ุชุญูู ุฌููู:**
- **ููุน ุฌููู:** ุณุงุฏูุ ูุฑฺฉุจุ ูพฺุฏู
- **ุฒูุงู:** ุญุงูุ ฺฏุฐุดุชูุ ุขูุฏูุ ฺฉุงูู
- **ุญุงูุช:** ุงุฎุจุงุฑุ ุงูุฑุ ุดุฑุท

### **3. ูพุดููุงุฏุงุช:**
- ุจุงูโูุง ุทุจุนโุชุฑ
- ุณุงุฎุชุงุฑูุง ุจูุชุฑ
- ูุงฺฺฏุงู ููุงุณุจโุชุฑ

## ๐จ **ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงุฑุณ:**

### **ูพุงู ููููุช (ุจุฏูู ุฎุทุง):**
```
๐ ุนุงู! ูุชู ุดูุง ูฺ ุฎุทุง ฺฏุฑุงูุฑ ูุฏุงุฑุฏ.
๐ ูุชู: [ูุชู ุงุตู]
๐ก ุชุจุฑฺฉ! ฺฏุฑุงูุฑ ุดูุง ฺฉุงููุงู ุตุญุญ ุงุณุช.
```

### **ูพุงู ุงุตูุงุญ (ุจุง ุฎุทุง):**
```
โ ุงุตูุงุญ ฺฏุฑุงูุฑ ูููุฏ ๐ณ๐ฑ

๐ ูุชู ุงุตู: [ูุชู]
โจ ูุชู ุงุตูุงุญ ุดุฏู: [ุงุตูุงุญ ุดุฏู]

๐ ุชุฌุฒู ฺฏุฑุงูุฑ:
โข ููุน ุฌููู: [ููุน]
โข ุฒูุงู: [ุฒูุงู]  
โข ูุดฺฉูุงุช ุงุตู: [ูุณุช]

๐ง ุงุตูุงุญุงุช ุงูุฌุงู ุดุฏู:

1. [ููุน ุฎุทุง]
โ "[ุงุดุชุจุงู]" โ โ "[ุตุญุญ]"
๐ก ุชูุถุญ: [ุดุฑุญ]
๐ ูููุนุช: [ูฺฉุงู]

๐ ูพุดููุงุฏุงุช ุจูุชุฑ:
1. "[ูพุดููุงุฏ 1]"
2. "[ูพุดููุงุฏ 2]"
```

## ๐งช **ุชุณุช ู validation:**

### **ูุงู ุชุณุช:** `test-grammar-correction.js`
- ุชุณุช ุงููุงุน ุฎุทุง ฺฏุฑุงูุฑ
- ุจุฑุฑุณ ูุญุฏูุฏุช ุทูู
- ุชุณุช ุงุนุชุจุงุฑุณูุฌ ุฒุจุงู
- validation ุณุงุฎุชุงุฑ JSON

### **ููุงุฑุฏ ุชุณุช ุดุฏู:**
1. โ ุฎุทุง ุชุฑุชุจ ฺฉููุงุช
2. โ ุฎุทุง ุตุฑู ูุนู
3. โ ูุชู ุจุฏูู ุฎุทุง
4. โ ูุญุฏูุฏุช ุทูู (50 ฺฉููู/300 ฺฉุงุฑุงฺฉุชุฑ)
5. โ ุงุนุชุจุงุฑุณูุฌ ุฒุจุงู (ููุท ูููุฏ)

## ๐ฅ **ูฺฺฏโูุง ฺฉูุฏ:**

### **โจ ููุดููุฏ:**
- ุชุดุฎุต ุฏูู ุงููุงุน ุฎุทุง
- ุชุญูู ุนูู ุณุงุฎุชุงุฑ ุฌููู
- ูพุดููุงุฏุงุช ุจุงู ุจูุชุฑ

### **๐ก๏ธ ุงูู:**
- ูุญุฏูุฏุช ุทูู ุจุฑุง performance
- ุงุนุชุจุงุฑุณูุฌ ุฒุจุงู
- ูุฏุฑุช ุฎุทุง ูู

### **๐ฎ๐ท ูุงุฑุณ:**
- ุชูุงู ูพุงูโูุง ุจู ูุงุฑุณ
- ุชูุถุญุงุช ูุงุจู ููู
- ุฑุงูููุง ฺฉุงุฑุจุฑูพุณูุฏ

### **๐ฑ ฺฉุงุฑุจุฑูพุณูุฏ:**
- ูพุงูโูุง ุดูุงู ู ููุฏ
- ุณุงุฎุชุงุฑ ููุธู ู ุฎูุงูุง
- ูฺฉุงุช ู ุฑุงูููุง

## ๐ **ูุชุฌู:**

**ุณุณุชู ุงุตูุงุญ ฺฏุฑุงูุฑ ุญุงูุง:**
- ููุท ูุชู ูููุฏ ูโูพุฐุฑุฏ
- ูุญุฏูุฏุช 50 ฺฉููู/300 ฺฉุงุฑุงฺฉุชุฑ ุฏุงุฑุฏ  
- ุชุญูู ุฏูู ู ุฌุงูุน ุงุฑุงุฆู ูโุฏูุฏ
- ุชูุถุญุงุช ฺฉุงูู ูุงุฑุณ ุฏุงุฑุฏ
- ูพุดููุงุฏุงุช ุจูุจูุฏ ูโุฏูุฏ

**โจ ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ูุชูู ูููุฏ ฺฉูุชุงู ุฎูุฏ ุฑุง ุงุตูุงุญ ฺฉููุฏ ู ุงุฏฺฏุฑ ุนูู ุฏุงุดุชู ุจุงุดูุฏ!** ๐